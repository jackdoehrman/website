<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles/style.css" />
  <link rel="icon" sizes="32x32" type="image/png" href="public/images/logo.png">
  <title>Jack Doehrman</title>
  <style>
    .resume-button {
      display: inline-block;
      padding: 0.5rem 1rem;
      background-color: #3b5998;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 500;
      transition: background-color 0.3s ease;
    }
    .resume-button:hover {
      background-color: #8b9dc3;
    }
    
    /* Enhanced Spotify section styling */
    #artist-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    #artist-list li {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid #eee;
      transition: background-color 0.2s ease;
    }
    
    #artist-list li:hover {
      background-color: #f9f9f9;
      padding-left: 8px;
      border-radius: 4px;
    }
    
    #artist-list li:last-child {
      border-bottom: none;
    }
    
    .artist-image {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #1db954;
    }
    
    .artist-info {
      flex: 1;
    }
    
    .artist-name {
      text-decoration: none;
      color: #1db954;
      font-weight: 500;
      font-size: 1.1em;
      transition: color 0.2s ease;
    }
    
    .artist-name:hover {
      color: #1ed760;
    }
    
    .artist-genres {
      font-size: 0.9em;
      color: #666;
      margin-top: 4px;
    }
    
    .loading-state {
      text-align: center;
      color: #666;
      font-style: italic;
      padding: 20px;
    }
    
    .error-state {
      text-align: center;
      color: #999;
      padding: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Jack Doehrman</h1>
    <h2>Data Analyst & Engineer</h2>
    <p>
      I transform raw data into insights and scalable solutions for smarter decisions.
      Currently at Houston Dynamo FC.
    </p>
    <nav>
      <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#skills">Skills</a></li>
        <li><a href="#experience">Experience</a></li>
        <li><a href="#projects">Projects</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="about">
      <h2>About</h2>
      <p>
        I'm a passionate data professional working as a Business Intelligence and Strategy Analyst
        for Houston Dynamo FC. I specialize in CRM strategy, dashboarding, and predictive modeling
        to optimize operations and enhance the fan experience.
      </p>
    </section>

    <section id="skills">
      <h2>Skills</h2>
      <ul>
        <li><strong>SQL & Databases</strong>: Agilitek, Databricks</li>
        <li><strong>Data Viz</strong>: Tableau, Power BI, Excel</li>
        <li><strong>Programming</strong>: Python, R, Jupyter</li>
        <li><strong>CRM & Marketing</strong>: Salesforce, SFMC</li>
        <li><strong>Survey & Analysis</strong>: Qualtrics, SurveyMonkey, Intellistack</li>
      </ul>
    </section>

    <section id="experience">
      <h2>Experience</h2>
      <div>
        <strong>Houston Dynamo FC</strong>
        <p>(Oct 2023 - Present)</p>
        <p>
          Lead Salesforce CRM and BI strategy. Build dashboards, RFM models, and optimize ticketing
          and fan engagement workflows.
        </p>
      </div>
    </br>
      <div>
        <strong>Pacers Sports & Entertainment</strong>
        <p>(Sep 2022 - May 2023)</p>
        <p>
          Built dashboards, analyzed surveys, and integrated legacy data systems to improve
          operational insights across digital and sales teams.
        </p>
      </div>
    </br>
      <a href="/public/resume.html" class="resume-button" rel="noopener noreferrer">
        View Full Resume
      </a>
    </section>

    <section id="projects">
      <h2>Projects</h2>
      <div class="project-card">
        <a href="/public/STMscoring.html">
          <h3>STM "At-Risk" Scoring</h3>
          <p>
            Built a predictive model to identify likely non-renewals using historical data.
            Delivered outreach prioritization through an "At-Risk" scoring system integrated in CRM.
          </p>
        </a>
      </div>
      <div class="project-card">
        <a href="/public/SecurityMonetizationROI.html">
          <h3>Security ROI & Optimization</h3>
          <p>
            Analyzed wait times and staffing costs to model ROI for upgraded security systems.
            Produced revenue estimates and staffing reduction strategies.
          </p>
        </a>
      </div>
    </br>
      <a href="/public/allProjects.html" class="resume-button" rel="noopener noreferrer">
        View All Projects
      </a>
    </section>

    <section id="top-artists">
      <h2>Spotify</h2>
      <h3>Who I am Listening to This Month</h3>
      <ul id="artist-list"></ul>
    </section>

    <section id="social">
      <h2>Social - Instagram</h2>
      <div
        class="embedsocial-hashtag"
        data-ref="d5f7c4665fe69ac0eb6d4e61d7c2a23ff4ea50d4"
      >
        <a
          class="feed-powered-by-es es-widget-branding"
          href="https://embedsocial.com/social-media-aggregator/"
          target="_blank"
          rel="noopener noreferrer"
          title="Instagram widget"
        >
          <img
            src="https://embedsocial.com/cdn/icon/embedsocial-logo.webp"
            alt="EmbedSocial"
          />
        </a>
      </div>
    </section>
  </main>

  <script>
  // Instagram embed script
  (function() {
    var script = document.createElement('script');
    script.src = "https://embedsocial.com/cdn/ht.js";
    script.id = "EmbedSocialHashtagScript";
    document.head.appendChild(script);
  })();

  // Spotify widget
  async function loadSpotifyArtists() {
    const artistList = document.getElementById('artist-list');
    
    artistList.innerHTML = '<li class="loading-state">ðŸŽµ Loading your top artists...</li>';
    
    try {
      const response = await fetch('/api/spotify');
      
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      
      const artists = await response.json();
      
      artistList.innerHTML = '';
      
      if (!Array.isArray(artists) || artists.length === 0) {
        artistList.innerHTML = '<li class="error-state">No artists found for the last 4 weeks.</li>';
        return;
      }
      
      artists.forEach((artist, index) => {
        const li = document.createElement('li');
        
        const imageUrl = artist.images?.[0]?.url || '/images/default-artist.png';
        const spotifyUrl = artist.external_urls?.spotify || '#';
        
        li.innerHTML = `
          <img 
            src="${imageUrl}" 
            alt="${artist.name}" 
            class="artist-image"
            onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiNmMGYwZjAiLz4KPHN2ZyB4PSIxNSIgeT0iMTUiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjOTk5Ij4KPHA+4pmqPC9wPgo8L3N2Zz4KPC9zdmc+'"
          />
          <div class="artist-info">
            <a href="${spotifyUrl}" target="_blank" rel="noopener noreferrer" class="artist-name">
              ${artist.name}
            </a>
            ${artist.genres?.length > 0 ? 
              `<div class="artist-genres">
                ${artist.genres.slice(0, 2).join(' â€¢ ')}
              </div>` : ''
            }
          </div>
        `;
        
        artistList.appendChild(li);
      });
      
    } catch (error) {
      console.error('Failed to load Spotify artists:', error);
      artistList.innerHTML = '<li class="error-state">Unable to load artists at this time. Please try again later.</li>';
    }
  }

  document.addEventListener('DOMContentLoaded', loadSpotifyArtists);

</script>
</body>
</html>
